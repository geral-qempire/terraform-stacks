environments:
  resource_group:
    name: 'Resource Group Stack'
    vcs:
      type: 'opentofu'
      opentofuVersion: '1.10.7'
      repository: 'https://github.com/geral-qempire/terraform-stacks'
      path: 'stacks/resource_group_stack'
      revision: 'stacks/resource_group_stack/v1.0.0'

  storage_account:
    name: 'Storage Account Stack'
    vcs:
      type: 'opentofu'
      opentofuVersion: '1.10.7'
      repository: 'https://github.com/geral-qempire/terraform-stacks'
      path: 'stacks/storage_account_stack'
      revision: 'stacks/storage_account_stack/v1.0.0'
    needs:
      - resource_group

settings:
  environmentRemovalStrategy: destroy

